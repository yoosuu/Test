<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Klaytn - CCO Onboarding - Pre-cypress on Klaytn CCO Onboarding - Pre-Cypress</title><link>/Test/</link><description>Recent content in Klaytn - CCO Onboarding - Pre-cypress on Klaytn CCO Onboarding - Pre-Cypress</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Mon, 19 Sep 2022 17:40:37 +0900</lastBuildDate><atom:link href="/Test/index.xml" rel="self" type="application/rss+xml"/><item><title>Network Diagram</title><link>/Test/10_klaytn_installation/10_system_diagram/</link><pubDate>Tue, 20 Sep 2022 17:44:45 +0900</pubDate><guid>/Test/10_klaytn_installation/10_system_diagram/</guid><description>CCN Diagram
CCN consists of one CN node and two PN nodes. Network architecture
Full mesh connection should be made between CNs. So, You need to configure the firewall to allow ingress between nodes. For communication and multichannel between CN, allow TCP 32323-32324 and UDP 32323 to your firewall ingress rule. We will share CN node IPs for Pre-cypress configuration separately. You can see the Klaytn Design more detailed on the page below.</description></item><item><title>Klaytn Configuration</title><link>/Test/20_klaytn_configuration/10_configuration/</link><pubDate>Tue, 20 Sep 2022 17:44:42 +0900</pubDate><guid>/Test/20_klaytn_configuration/10_configuration/</guid><description>The CN configuration is to create a data directory and set up several values in the configuration file.
Create the data/log directory. Install node key. Configure the CN(PN) with kcnd.conf (kpnd.conf). 1. Data,log Directory Creation Considering the fact that the size of Klaytn blockchain data is always increased, it is recommended to use a big enough storage. You may need to create the directory on your desired path.
1) CN $ mkdir -p /var/kcnd/data $ mkdir -p /var/kcnd/log</description></item><item><title>Start the services</title><link>/Test/40_start_the_services/10_start_the_services/</link><pubDate>Mon, 11 Jul 2022 18:37:31 +0900</pubDate><guid>/Test/40_start_the_services/10_start_the_services/</guid><description>1. Start the Klaytn service, if it is running. For CN, $ sudo systemctl status kcnd $ sudo systemctl start kcnd $ sudo systemctl status kcnd For PN, $ sudo systemctl status kpnd $ sudo systemctl start kpnd $ sudo systemctl status kpnd If the services are not installed from yum, you can start the service like below, $ sudo &amp;lt;installation_path&amp;gt;/kcnd status $ sudo &amp;lt;installation_path&amp;gt;/kcnd start $ sudo &amp;lt;installation_path&amp;gt;/kcnd status 2.</description></item><item><title>Telegraf Installation</title><link>/Test/30_monitoring_setup/10_telegraf_installation/</link><pubDate>Mon, 11 Jul 2022 15:42:53 +0900</pubDate><guid>/Test/30_monitoring_setup/10_telegraf_installation/</guid><description>1. Telegraf Installation Telegraf Installation Guide (Amazon Linux 2 users, see below): https://docs.influxdata.com/telegraf/latest/introduction/installation/ Note for Amazon Linux 2 To install Telegraph on Amazon Linux 2, you may use InfluxData&amp;rsquo;s RHEL 7 yum repo as follows:
cat &amp;lt;&amp;lt;EOF | sudo tee /etc/yum.repos.d/influxdb.repo [influxdb] name = InfluxDB Repository - RHEL 7 baseurl = https://repos.influxdata.com/rhel/7/\$basearch/stable enabled = 1 gpgcheck = 1 gpgkey = https://repos.influxdata.com/influxdb.key EOF If you finish this step, please click the next button &amp;gt; on the right side of this page.</description></item><item><title>System Requirement</title><link>/Test/10_klaytn_installation/20_system_requirement/</link><pubDate>Tue, 20 Sep 2022 17:44:45 +0900</pubDate><guid>/Test/10_klaytn_installation/20_system_requirement/</guid><description>1. System Requirement (for cloud) Recommended Specification for AWS
Node Type Model vCPU Memory (GiB) Storage size (GiB) Storage speed (IOPS) Price (Seoul region, USD/h) CN c5.18xlarge 72 144 3,000 (Minimum) 3,000 (Minimum) 3.456 PN m5.8xlarge 32 128 3,000 (Minimum) 3,000 (Minimum) 1.888 Recommended Specification for Azure
Node Type Model vCPU Memory (GiB) Storage size (GiB) Storage speed (IOPS) Price (Seoul Central, USD/h) CN F72s v2 72 144 P50 (4096) 7500 3.</description></item><item><title>Init Genesis Block</title><link>/Test/20_klaytn_configuration/20_init_genesis_block/</link><pubDate>Tue, 20 Sep 2022 17:44:42 +0900</pubDate><guid>/Test/20_klaytn_configuration/20_init_genesis_block/</guid><description>4. Copy genesis.json under DATA directory example : /var/kcnd/data/genesis.json
5. Init Genesis block 1) CN configuration $ kcn --networkid 7207 init --datadir /var/kcnd/data genesis.json 2) PN configuration $ kpn --networkid 7207 init --datadir /var/klaytn/kpnd/data genesis.json 6. (ONLY PN) Create static-nodes.json and copy it under DATA directory example : /var/kcnd/data/nodekey
** Generate static-nodes.json ** You have 1 CN and 2 PNs, each are cn1, pn1, pn2. 1. static-nodes.json in pn1 [ &amp;#34;CN_KNI_ADDRESS@CN_INTERNAL_IP:PORT?</description></item><item><title>Check the services</title><link>/Test/40_start_the_services/20_check_the_services/</link><pubDate>Mon, 11 Jul 2022 18:42:35 +0900</pubDate><guid>/Test/40_start_the_services/20_check_the_services/</guid><description>3. Watch the service log to confirm if your nodes are correctly joined. If the node is not a proposer at that block, and the consensus is successful, the node have executed(==validates) the block. In other words, a block is inserted.
1) For CN, $ tail &amp;lt;your_klaytn_home_path&amp;gt;/kcnd/log/kcnd.out INFO Inserted a new block number=14 hash=13cbfc…f007fc txs=0 gas=0 elapsed=793.458µs processTxs=167ns finalize=157.708µs validateState=7.542µs totalWrite=443.417µs trieWrite=256.667µs 2) For PN, $ tail &amp;lt;your_klaytn_home_path&amp;gt;/kcnd/log/kpnd.out INFO Inserted a new block number=14 hash=13cbfc…f007fc txs=0 gas=0 elapsed=793.</description></item><item><title>Telegraf Configuration</title><link>/Test/30_monitoring_setup/20_telegraf_configuration/</link><pubDate>Mon, 11 Jul 2022 15:43:06 +0900</pubDate><guid>/Test/30_monitoring_setup/20_telegraf_configuration/</guid><description>2. Enable monitoring in kcnd/kpnd Check the if below two options enabled
/etc/kcnd/conf/kcnd.conf
... METRICS=1 PROMETHEUS=1 ... If two options enabled, You may check port 61001 is open.
$ netstat -ntap | grep 61001 tcp 0 0 :::61001 :::* LISTEN 8989/kcn 3. Configure Telegraf service Create new telegraf configuration and add the following the configuration file might be located in
/etc/telegraf/telegraf.d/
Edit &amp;rsquo;nodetype&amp;rsquo;, &amp;lsquo;instance&amp;rsquo;, and &amp;lsquo;hostname&amp;rsquo; appropriately for each node</description></item><item><title>Package Installation</title><link>/Test/10_klaytn_installation/30_klaytn_package_installation/</link><pubDate>Mon, 11 Jul 2022 19:18:57 +0900</pubDate><guid>/Test/10_klaytn_installation/30_klaytn_package_installation/</guid><description>1. Linux Archive Distribution The archive file consists of the executable binary and the configuration file structured as follows.
For CN node : kcn / kcnd For PN node : kpn / kpnd - bin |- kcn |- kcnd - conf |- kcnd.conf File Name | File Description -------------------------------------------------------- bin/kcn | CN executable file bin/kcnd | CN start/termination script file conf/kcnd.conf | CN configuration file Do NOT alter the file structure or file name.</description></item></channel></rss>